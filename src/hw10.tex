\lhead{\textbf{Basic Algorithms, Fall 2024 \\ CSCI-UA.0310-001}}
\chead{\Large{\textbf{Homework 10}}}
\def\lc{\left\lceil}   
\def\rc{\right\rceil}
\newtheorem{claim}{Claim}
\newtheorem{property}{Property}
\rhead{\textbf{Instructor: Rotem Oshman \\Name: Ishan Pranav}}
\runningheadrule
\firstpageheadrule
\cfoot{}
\stepcounter{subsection}
\subsection*{References}
Peer-reviewed with Crystal Huang.
\subsection{Tours}
Suppose the New York Botanical Gardens are trying to drum up interest for their tree and shrub collections by offering tours through the arboretum, and you are tasked with reviewing their proposed routes. There are a set $V$ of trees they want some tour to stop at, and a set $E$ of routes from tree to tree their proposed tours would make. In order to make sure all the trees are visited, they want the following property:
\begin{property} 
For all pairs $v, u\in V$, we must have a path from $u$ to $v$ or a path from $v$ to $u$ (or both). 
\end{property}
\noindent They provide you with many proposed plans and a strict deadline for your feedback, and so you want to develop an efficient algorithm to automate this task. 

\begin{enumerate}
\item Suppose $G = (V, E)$ is a directed acyclic graph. Design a simple $O(|V|+|E|)$ time algorithm to determine whether or not the given graph $G$ satisfies the desired property. For example, in Figure~\ref{fig:q1-1}, the first example satisfies the property while the second does not (as there is no path from $A$ to $C$ nor from $C$ to $A$).
Argue the correctness of your algorithm.

\hint{Base your algorithm on topological sort.} 

\hint{\noindent
\begin{minipage}[t]{0.95\linewidth}
If we change the examples to
$A \leftarrow B \rightarrow C \rightarrow D$ and 
$B \rightarrow A \rightarrow C \rightarrow D$, then $(B,A,C,D)$ is a valid topological sort of both, but one of the graphs satisfies the property while the other one does not. Draw the edges of each graph on the vertices in topological order. What is the difference?
\end{minipage}}

\begin{figure}[htb]
    \centering
    \begin{tikzpicture}[node distance={20mm}, thick,main/.style={circle, thick,draw,font=\sffamily\bfseries}, ar/.style={-{Stealth[scale=1.2]}}]
      \node[main] (1) {$A$}; 
      \node[main] (2) [right of=1]{$B$};
      \node[main] (3) [right of=2]{$C$};
      \node[main] (4) [below of=1]{$A$};
      \node[main] (5) [right of=4]{$B$};
      \node[main] (6) [right of=5]{$C$};
      
      \draw[ar] (1) -- (2);
      \draw[ar] (2) -- (3);
      \draw[ar] (5) -- (4);
      \draw[ar] (5) -- (6);
    \end{tikzpicture}
    \caption{Illustrations for Question 1-1.}
    \label{fig:q1-1}
\end{figure}


\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}

\item Suppose now that $G = (V, E)$ is an arbitrary directed graph. Design a $O(|V|+|E|)$ time algorithm to determine whether or not the given graph $G$ satisfies the desired property. 

\hint{Recall that any directed graph $G$ can be decomposed into a DAG of strongly connected components. Can you reuse some ideas of your prior approach?}
\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}


\item Prove that your algorithm in $(2)$ is correct and that it runs in the required time.
\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}
\end{enumerate}


\subsection{Topological Sort (5+5=10 points)}
\begin{enumerate}
    \item How many valid topological sorts does the directed graph $G$ in Figure \ref{fig:topo-sort} below have? List all the valid topological sorts in the following table. One of them has been listed as an example, where node $A$ has the last finish time and $D$ has the first.

    \begin{figure}[H]
        \centering
        \begin{tikzpicture}[node distance={20mm}, thick,main/.style={circle, thick,draw,font=\sffamily\bfseries}, ar/.style={-{Stealth[scale=1.2]}}]
          \node[main] (1) {$A$}; 
          \node[main] (2) [above right of=1]{$B$};
          \node[main] (3) [right of=2]{$C$};
          \node[main] (4) [below right of=3]{$D$};
          \node[main] (5) [below right of=1]{$F$};
          \node[main] (6) [right of=5]{$E$};
          
          \draw[ar] (1) -- (2);
          \draw[ar] (1) -- (5);
          \draw[ar] (2) -- (3);
          \draw[ar] (2) -- (4);
          \draw[ar] (2) -- (5);
          \draw[ar] (3) -- (4);
          \draw[ar] (3) -- (5);
          \draw[ar] (6) -- (4);
        \end{tikzpicture}
        \caption{Directed $G$ for topological sort.}
        \label{fig:topo-sort}
    \end{figure}
    
     \begin{center}
    \begin{tabular}{c c c c c c c}
    \hline
     1. & A & B & C & F & E & D\\
     2. &  &  &  &  &  & \\
    \hline
    \end{tabular}
    \label{table:q3}
    \end{center}
\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}
    

    \item 
    Give an example of a graph showing that the topological sort algorithm does not work if we output vertices in order of their discovery time, instead of reverse finish time.

\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}
\end{enumerate}




\subsection{Spanning Tree (4+4+4=12 points)}

Recall that for an undirected graph $G = (V,E)$ as a spanning tree $T$ is a subgraph containing all vertices $V$ such that $T$ is connected and acyclic. 

In the following, let $e = (u,v) \in E$ be an edge that is \emph{not} part of $T$.
Prove the following properties:

\begin{enumerate}
    \item Assume we add $e$ to $T$, i.e., consider the graph $T'$ over the vertices $V$ that contains all edges from $T$ and $e$. Show that this graph is no longer acyclic.

\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}

    \item Now let $e'$ be an arbitrary edge on the cycle created by adding $e$ to $T'$ in part (1). Let $T''$ be the graph obtained by removing $e'$, i.e., the graph obtained by replacing $e'$ with $e$ in the original spanning tree $T$. Show that $T''$ is connected.

\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}

    \item Now complete the proof of $T''$ being a spanning tree by also showing that $T''$ is acyclic.

\begin{solution}   INSERT YOUR SOLUTION HERE   \end{solution}
\end{enumerate}